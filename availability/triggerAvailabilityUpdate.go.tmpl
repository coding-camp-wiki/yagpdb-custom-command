{{/* triggerAvailabilityUpdate */}}
{{ $thisCmd := 19 }}
{{ $embedCmd := 18 }}

{{/* {{ $availableEmoji := "ðŸ“³" }} */}}
{{ $availableEmoji := "ðŸ’š" }}
{{ $awayEmoji := "ðŸ“´" }}
{{ $removeEmoji := "ðŸ›‘" }}

{{ $targetMessageId := .Reaction.MessageID }}
{{ $operation := "" }}
{{ $isReactionAdded := .ReactionAdded }}
{{ $user := .Reaction.UserID }}

{{ if eq .Reaction.Emoji.Name $availableEmoji }}
    {{ $operation = "available" }}
{{ else if eq .Reaction.Emoji.Name $awayEmoji }}
    {{ $operation = "away" }}
{{ else if eq .Reaction.Emoji.Name $removeEmoji }}
    {{ $operation = "remove" }}
{{ end }}

{{ if $operation }}
    {{ execCC $embedCmd nil 0 (sdict
        "targetMessageId" $targetMessageId
        "operation" $operation
        "isReactionAdded" $isReactionAdded
        "user" $user
    ) }}
{{ end }}
