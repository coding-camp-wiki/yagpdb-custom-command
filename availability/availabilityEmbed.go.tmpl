{{ $embedTitle := "Staff In/Out" }}
{{ $embedDescription := "Which staff members are currently available to help?" }}
{{ $embedColor := 12426513 }}

{{/* {{ $availableEmoji := "ðŸ“³" }} */}}
{{ $availableEmoji := "ðŸ’š" }}
{{ $awayEmoji := "ðŸ“´" }}
{{ $removeEmoji := "ðŸ›‘" }}

{{ $emojiSet := cslice $availableEmoji $awayEmoji $removeEmoji }}

{{ $fieldAvailableName := "Ready to Help!" }}
{{ $fieldAwayName := "Away" }}
{{ $fieldEmptyValue := "(none)" }}
{{ $fieldInline := true }}

{{ $fieldEmptyAvailable := (sdict "name" $fieldAvailableName "value" $fieldEmptyValue "inline" $fieldInline) }}
{{ $fieldEmptyAway := (sdict "name" $fieldAwayName "value" $fieldEmptyValue "inline" $fieldInline) }}
{{ $fieldsEmpty := (cslice
        $fieldEmptyAvailable
        $fieldEmptyAway
    )
}}

{{ $targetMessageId := .ExecData.targetMessageId }}
{{ $targetEmoji := .ExecData.emoji }}
{{ $isReactionAdded := .ExecData.isReactionAdded }}
{{ $targetUser := .ExecData.user }}

{{ $embedDict := (sdict
    "title" $embedTitle
    "description" $embedDescription
    "color" $embedColor
) }}

{{/* initial setup */}}
{{ if not .ExecData }}
    {{ $embedDict.Set "fields" $fieldsEmpty }}
    {{ $embed := cembed $embedDict }}

    {{ sendMessage nil $embed }}

{{/* update existing embed, if present, based on expected emojis */}}
{{ else if in $emojiSet $targetEmoji }}
    {{ $targetMessage := getMessage nil $targetMessageId }}

    {{ range $index, $embed := $targetMessage.Embeds }}
        {{ if eq $embed.Title $embedTitle }}

        {{ end }}
    {{ end }}
{{ end }}
